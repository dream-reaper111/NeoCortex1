<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Alpaca Webhook Endpoint</title>
    <style>
      :root {
        color-scheme: light dark;
      }
      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        margin: 0;
        padding: 2.5rem 1.5rem 3rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at 10% 20%, rgba(63,94,251,0.15), transparent 55%),
                    radial-gradient(circle at 90% 10%, rgba(252,70,107,0.15), transparent 55%),
                    radial-gradient(circle at 50% 80%, rgba(56,189,248,0.12), transparent 60%),
                    #0f172a;
        min-height: 100vh;
      }
      .card {
        width: min(680px, 100%);
        background: rgba(15, 23, 42, 0.85);
        border: 1px solid rgba(148, 163, 184, 0.25);
        border-radius: 18px;
        padding: 2.25rem;
        box-shadow: 0 25px 50px -12px rgba(15, 23, 42, 0.5);
        backdrop-filter: blur(14px);
        color: #e2e8f0;
      }
      h1 {
        margin-top: 0;
        font-size: clamp(1.6rem, 4vw, 2.4rem);
        letter-spacing: 0.02em;
      }
      p.description {
        font-size: 1rem;
        line-height: 1.55;
        color: rgba(226, 232, 240, 0.8);
        margin-bottom: 1.75rem;
      }
      .url-block {
        background: rgba(15, 23, 42, 0.75);
        border: 1px solid rgba(148, 163, 184, 0.35);
        border-radius: 14px;
        padding: 1.2rem 1.4rem;
        margin-bottom: 1.6rem;
        word-break: break-all;
        font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 0.95rem;
      }
      .actions {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
      }
      .actions a {
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        color: #f8fafc;
        padding: 0.75rem 1.3rem;
        border-radius: 999px;
        font-weight: 600;
        box-shadow: 0 12px 25px -12px rgba(99, 102, 241, 0.6);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      .actions a:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 35px -18px rgba(99, 102, 241, 0.75);
      }
      footer {
        margin-top: 2rem;
        font-size: 0.85rem;
        color: rgba(148, 163, 184, 0.75);
      }
      @media (max-width: 540px) {
        body {
          padding: 1.5rem 1rem;
        }
        .card {
          padding: 1.75rem;
        }
        .url-block {
          font-size: 0.9rem;
        }
      }
    </style>
  </head>
  <body>
    <main class="card">
      <h1>Alpaca Webhook Ready</h1>
      <p class="description">
        Share this URL with the Alpaca dashboard so trade and account events are securely forwarded to your local service.
      </p>
      <div class="url-block" id="webhook-url">{{WEBHOOK_URL}}</div>
      <div class="actions">
        <a href="{{WEBHOOK_URL}}" target="_blank" rel="noopener noreferrer">Open Webhook Endpoint</a>
        <a href="/ui/enduserapp/" target="_blank" rel="noopener noreferrer">Launch Webhook Console</a>
      </div>
      <footer>
        Exposing a tunnel from <span id="webhook-host">{{WEBHOOK_HOST}}</span>. Keep this page privateâ€”anyone with the URL can reach your callback endpoint.
      </footer>
    </main>
    <script>
      const url = document.getElementById('webhook-url');
      const host = document.getElementById('webhook-host');
      if (url && url.textContent) {
        url.addEventListener('click', async () => {
          try {
            await navigator.clipboard.writeText(url.textContent.trim());
            url.style.boxShadow = '0 0 0 2px rgba(148, 163, 184, 0.5)';
            setTimeout(() => (url.style.boxShadow = ''), 1200);
          } catch (err) {
            console.warn('clipboard copy failed', err);
          }
        });
      }
      if (host && host.textContent) {
        const base = window.location.origin;
        host.textContent = base;
      }
    </script>
  </body>
  
<html>
<head>
<meta charset="UTF-8" />
<meta name="color-scheme" content="dark light" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NeoAI ngrok Cloud Endpoint</title>
<link rel="preload" href="https://assets.ngrok.com/fonts/euclid-square/EuclidSquare-Regular-WebS.woff" as="font" type="font/woff" crossorigin="anonymous" />
<link rel="preload" href="https://assets.ngrok.com/fonts/euclid-square/EuclidSquare-Medium-WebS.woff" as="font" type="font/woff" crossorigin="anonymous" />
<link rel="preload" href="https://assets.ngrok.com/fonts/ibm-plex-mono/IBMPlexMono-Text.woff" as="font" type="font/woff" crossorigin="anonymous" />
<style>
@font-face {
  font-family: EuclidSquare;
  font-style: normal;
  font-weight: normal;
  src: url("https://assets.ngrok.com/fonts/euclid-square/EuclidSquare-Regular-WebS.woff") format("woff");
}
@font-face {
  font-family: EuclidSquare;
  font-style: normal;
  font-weight: 500;
  src: url("https://assets.ngrok.com/fonts/euclid-square/EuclidSquare-Medium-WebS.woff") format("woff");
}
@font-face {
  font-family: IBMPlexMono;
  font-style: normal;
  font-weight: normal;
  src: url("https://assets.ngrok.com/fonts/ibm-plex-mono/IBMPlexMono-Text.woff") format("woff");
}
html,
body {
  margin: 0;
  box-sizing: border-box;
}
html {
  height: 100%;
}
body {
  font-family: EuclidSquare, system-ui;
  display: grid;
  height: 100%;
  min-height: 100%;
  padding: 1rem;
}
pre {
  margin-bottom: 0;
  padding: 1rem 1.25rem;
  border-radius: 0.375rem;
  margin-top: 1.5rem;
  white-space: pre-wrap;
}
code {
  font-family: IBMPlexMono, monospace;
  font-size: 0.8125rem;
}
h1 {
  margin: 0;
  margin-bottom: 1.4rem;
  font-weight: 500;
  font-size: 1.6rem;
  line-height: 1.2;
}
body > div {
  max-width: 44ch;
  width: 100%;
  place-self: center;
}
body > div > div:first-child {
  padding: 1.5rem;
  border-radius: 0.75rem;
  font-size: 0.875rem;
}
body > div > div:last-child {
  text-align: right;
  margin-top: 1rem;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding-right: 1rem;
  font-size: 0.75rem;
  gap: 0.25rem;
  line-height: 1;
}
a,
a:visited {
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}
p {
  margin-bottom: 1rem;
}
@media (prefers-color-scheme: dark) {
  body {
    background: #171823;
    color: #f3f4f6;
  }
  body > div > div:first-child {
    background: #242533;
    border: 1px solid #3b3f4f;
    box-shadow: rgba(0, 0, 0, 0.15) 0 1px 13px 0, rgba(0, 0, 0, 0.3) 0 4px 6px -4px,
      rgba(0, 0, 0, 0.3) 0 10px 15px -3px;
  }
  a,
  a:visited {
    color: #699afc;
  }
  pre {
    background: #171823;
    border: 1px solid #3b3f4f;
  }
  p {
    color: rgba(255, 255, 255, 0.7);
  }
  body > div > div:last-child {
    color: rgba(249, 250, 251, 0.6);
  }
  body > div > div:last-child > svg {
    color: #699afc;
  }
  h1 {
    color: #fff;
  }
}
@media (prefers-color-scheme: light) {
  body {
    background: hsl(216 18% 98%);
    color: #242533;
  }
  body > div > div:first-child {
    background: #fff;
    border: 1px solid hsl(222 12% 83.9%);
    box-shadow: rgba(0, 0, 0, 0.05) 0 1px 13px 0, rgba(0, 0, 0, 0.1) 0 4px 6px -4px,
      rgba(0, 0, 0, 0.1) 0 10px 15px -3px;
  }
  a,
  a:visited {
    color: #2e54ea;
  }
  pre {
    background: hsla(226, 8%, 26.5%, 0.05);
    border: 1px solid hsl(222 12% 83.9%);
  }
  p {
    color: rgba(23, 24, 35, 0.75);
  }
  body > div > div:last-child {
    color: rgba(23, 24, 35, 0.6);
  }
  body > div > div:last-child > svg {
    color: #2e54ea;
  }
  h1 {
    color: #242533;
  }
}
</style>
</head>
<body>
<div>
  <div>
    <h1>This is your NeoAI ngrok Cloud Endpoint!</h1>
    <p>
      Traffic reaching this page is being served by the NeoAI FastAPI application. Use
      it to verify that your tunnel is live and ready to accept requests.
    </p>
    <p>
      To publish the API or the Alpaca webhook externally, keep <code>run_with_ngrok.py</code>
      running and point external services at your forwarded URL:
    </p>
    <pre><code>{{WEBHOOK_URL}}</code></pre>
    <p>
      In Alpaca's dashboard, paste the above URL into the <strong>Webhook URL</strong> field so
      trade updates are delivered to <code>/alpaca/webhook</code> on this server.
    </p>
    <p>
      Want JSON status instead? Try the
      <a href="{{BASE_URL}}/">root API endpoint</a> or check <a href="{{BASE_URL}}/preflight">/preflight</a>.
    </p>
  </div>
  <div>
    Powered by
    <a href="https://ngrok.com" aria-label="ngrok">
      <svg xmlns="http://www.w3.org/2000/svg" width="58" height="25" fill="currentColor" viewBox="0 0 58 25">
        <path d="M19.73 9.46a3.86 3.86 0 0 0-2.98-1.34 4.76 4.76 0 0 0-3.61 1.58 5.55 5.55 0 0 0-1.45 3.88c0 .75.12 1.44.36 2.07a4.67 4.67 0 0 0 4.52 3c.33 0 .63-.02.9-.06a3.53 3.53 0 0 0 1.5-.63c.27-.19.52-.4.76-.62v2.89h-3.3l-2.48 2.81v.49h9.3V8.4h-3.52v1.06Zm-.01 4.83a2.23 2.23 0 0 1-2.09 1.4 2.28 2.28 0 0 1-1.63-.66 2.38 2.38 0 0 1-.47-2.53 2.39 2.39 0 0 1 1.22-1.21 2.2 2.2 0 0 1 1.74 0c.28.1.52.27.73.48.2.21.37.45.5.73a2.23 2.23 0 0 1 0 1.8ZM9.89 9.62a3.79 3.79 0 0 0-1.62-1.1 3.9 3.9 0 0 0-.57-.13H5.18l-1.66 1.9V8.44H0v10.05h3.52V11.7h3.59v6.78h3.52V12.2c0-.53-.05-1.01-.15-1.43-.1-.42-.3-.8-.59-1.14ZM33.61 8.4h-3.84l-1.53 1.73V8.4h-3.53v10.06h3.54v-6.73h2.56l2.8-3.19V8.4Zm18.73 4.65 4.82-4.48V8.4h-4.64l-3.7 3.63V2.19H45.3v16.26h3.52v-4.09l3.87 4.1h4.75v-.2l-5.1-5.21Zm-9.49-3.5a5.86 5.86 0 0 0-1.9-1.12 6.89 6.89 0 0 0-2.39-.4 6.8 6.8 0 0 0-2.4.41c-.7.25-1.34.64-1.9 1.13A5.15 5.15 0 0 0 33 15.58a5.16 5.16 0 0 0 3.12 2.86c.72.26 1.52.39 2.37.39.87 0 1.68-.13 2.43-.4a5.2 5.2 0 0 0 3.63-5 5.1 5.1 0 0 0-1.7-3.89Zm-2.2 4.76c-.12.27-.28.52-.48.73a2.24 2.24 0 0 1-1.6.67 2.26 2.26 0 0 1-1.61-.67 2.27 2.27 0 0 1-.49-2.55c.12-.27.28-.5.49-.72a2.25 2.25 0 0 1 2.5-.49 2.55 2.55 0 0 1 1.2 1.23 2.25 2.25 0 0 1-.01 1.79Z" />
      </svg>
    </a>
  </div>
</div>
  </body>
</html>
